<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Exam.js</title>
</head>
<link rel="stylesheet" type="text/css" href="css/style.css">
<link rel="stylesheet" type="text/css" href="css/exam.css">

<body>
    <div class="top-panel">Exam.js</div>
    <br>
    <br>
    <br>
    <div class="box promo-text">
        This is a markdown extension that allows you to create tests for students
    </div>
    <div class="button" id="finishBtn">Finish</div>
    <div class="answers-box">
        <div class="counter" id="answers">Answers: 0</div>
        <div class="counter" id="tests">Tests: 0</div>
    </div>
    <div class="box">
        <div class="result result-box">
            <textarea id="editor" class="text-pane"></textarea>
            <div id="result" class="text-pane"></div>
        </div>
    </div>
    <script type="text/javascript" src="build/exam.js"></script>
    <script type="text/javascript">
        var exam = new Exam({
            finishBtnID : 'finishBtn'
        });
        var resultDiv = document.getElementById('result');
        var editor = document.getElementById('editor');
        var answersDiv = document.getElementById('answers');
        var testsDiv = document.getElementById('tests');
        function checkAnswers(){
            var answersInfo = exam.getAnswersInformation();
            
            answersDiv.innerHTML = ('Answers: ' + answersInfo.rightAnswers);
            testsDiv.innerHTML = ('Tests: ' +answersInfo.tests);
        }

        function update()
        {
            var source = editor.value;
            var resultHTML = exam.parse(source);
            resultDiv.innerHTML = resultHTML;
            exam.startExam();
            checkAnswers();
        }

        editor.oninput = update;
        resultDiv.oninput = checkAnswers;
    </script>

</body>

</html>
